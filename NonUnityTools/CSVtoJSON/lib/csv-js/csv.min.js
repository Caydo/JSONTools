/*! csv-js v0.2.5: A CSV (comma-separated values) parser written in JavaScript.
 * Copyright: (c) 2009-2013 Christopher Parker <cparker15@cparker15.com> (http://www.cparker15.com)
 * License: LGPLv3+
 * Info: http://www.cparker15.com/code/utils/csv-to-json/
 */
!function(a){"use strict";function b(a,b){var c=b.toString(),d=c.substring(1,c.lastIndexOf("/")),e=c.substring(c.lastIndexOf("/")+1);return-1===e.indexOf("g")&&(b=new RegExp(d,e+"g")),a.split(b)}function c(a){return""===a.replace(/^[\s]*|[\s]*$/g,"")}function d(a){var b;for(b=0;b<a.length;b++)c(a[b])&&a.splice(b--,1)}function e(a,b){var c,d,e,f;for(c=0;c<a.length;c++)if(e=a[c].replace(/^[\s]*|[\s]*$/g,""),f="",('"'===e.charAt(0)||"'"===e.charAt(0))&&(f=e.charAt(0)),""!==f&&e.slice(-1)!==f){for(d=c+1,d<a.length&&(e=a[d].replace(/^[\s]*|[\s]*$/g,""));d<a.length&&e.slice(-1)!==f;)a[c]+=b+a.splice(d,1)[0],e=a[d].replace(/[\s]*$/g,"");d<a.length&&(a[c]+=b+a.splice(d,1)[0])}}function f(a){var b;for(b=0;b<a.length;b++)a[b]=a[b].replace(/^[\s]*|[\s]*$/g,"")}function g(a){var b;for(b=0;b<a.length;b++)'"'===a[b].charAt(0)?a[b]=a[b].replace(/^"|"$/g,""):"'"===a[b].charAt(0)&&(a[b]=a[b].replace(/^'|'$/g,""))}function h(a,b){var c=a.split(b);return e(c,b),f(c),g(c),c}function i(a,b){var c,d=[];for(c=0;c<a.length;c++)d[c]=h(a[c],b);return d}function j(a){var b,c,d,e,f,g=[],h=a[0];for(b=1;b<a.length;b++)if(d=a[b],d.length>0){if(d.length>h.length)throw new SyntaxError("not enough header fields");for(e={},c=0;c<h.length;c++)f=h[c],e[f]=c<d.length?d[c]:"";g.push(e)}return g}var k={};k.parse=function(a,c,e,f){var g,h,k,l={lineEnding:/[\r\n]/,delimiter:",",ignoreEmptyLines:!0};if(""===a)throw new SyntaxError("empty input");if("undefined"!=typeof c&&(l.lineEnding=c instanceof RegExp?c:new RegExp("["+String(c)+"]","g")),"undefined"!=typeof e&&(l.delimiter=String(e)),"undefined"!=typeof f&&(l.ignoreEmptyLines=!!f),g=b(a,l.lineEnding),l.ignoreEmptyLines&&d(g),g.length<2)throw new SyntaxError("missing header");return h=i(g,l.delimiter),k=j(h)},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=k:"function"==typeof define&&define.amd?define([],function(){return k}):a.CSV=k}("undefined"!=typeof window?window:{});